{"version":3,"file":"initializeData.js","names":["_testdb","require","_fs","_interopRequireDefault","_shortid","_mongodb","e","__esModule","default","imageFilePath","firstNames","arrfNames","split","lastNames","arrlNames","initialize","Contact","deleteMany","Photo","noimage_photo","_id","image","fs","readFileSync","mimetype","save","i","photo","shortid","generate","num","ridx","Math","floor","random","length","name","tel","address","ObjectId","toHexString","c1","mongoose","connection","close","console","log"],"sources":["../../src/init/initializeData.js"],"sourcesContent":["import { Contact, Photo, mongoose } from '../db/testdb';\r\nimport fs from 'fs';\r\nimport shortid from 'shortid';\r\nimport { ObjectId } from 'mongodb'\r\n\r\nconst imageFilePath = \"temp_photow/\";\r\n\r\nlet firstNames= \"Kel,Morgan,Amari,Akiyama,Quan,Ariana,Rana,Carrie,London,Shelley,Hailey,Stella,Aki,Sun,Leigh,Maya,Jermyn,Kim,Lauren,Koryne,Fanny,Maima,Nahid,Khalea,Rachel,Maired,Sa,Serin,Blake,Drew,Lina,Priyal,Megan,Bailey,Amaya,Kaelyn,Charlotte,Korra,Kassie,Keeta,Mallie,Noel,Tracy,Kace,Killion,Kenyatta,Pita,Raye,Sadie,Evon,Addison,Arrietty,Engel,Feron,Courtney,Tonya,Landon,Mila,Nade,Gladys,Sean,Rhu,Rosebud,Sophie,Zari,Rose,Jain,Harper,Lai,Kelley,Lyanne,Le,Nivea,Penelope,Remy,Sophia,Ray,Rai,Amoni,Zoe,Kylie,Zenon,Alania,Aveen,Annabelle,Caroline,Emani,Catera,Lin,Francess,Isabella,Victoria,Isabelle,Ambrosia,Jennifer,Jesse,Kalisa,Katchi,Katherine,Keandra\"\r\nlet arrfNames = firstNames.split(',');\r\nlet lastNames = \"Anderson,Allen,Adams,Brown,Baker,Bailey,Bell,Brooks,Bennett,Butler,Barnes,Clark,Campbell,Carter,Collins,Cook,Cooper,Cox,Cruz,Davis,Díaz,Evans,Edwards,Flores,Foster,Fisher,Harris,Hall,Hill,Howard,Hughes,Johnson,Jones,Jackson,James,Jenkins,Gray,King,Miller,Martinez,Moore,Martin,Mitchell,Morris,Murphy,Morgan,Myers,Morales,Nelson,Nguyen,Ortiz,Lee,Lewis,Long,Phillips,Parker,Peterson,Price,Powell,Perry,Robinson,Ramirez,Roberts,Rivera,Rogers,Reed,Richardson,Reyes,Ross,Russell,Smith,Scott,Stewart,Sanders,Sullivan,Taylor,Thomas,Thompson,Turner,Torres,Williams,Wilson,White,Walker,Wright,Ward,Wood,Watso,Young\";\r\nlet arrlNames = lastNames.split(',');\r\n\r\nconst initialize = async () => {\r\n    //기존 데이터 삭제\r\n    await Contact.deleteMany()\r\n    await Photo.deleteMany()\r\n    //사진 없음일 때 사용할 레고이미지 추가\r\n    let noimage_photo = new Photo();\r\n    noimage_photo._id = \"noimage\";\r\n    noimage_photo.image = fs.readFileSync(imageFilePath + \"noimage.jpg\");\r\n    noimage_photo.mimetype = \"image/jpeg\";\r\n    await noimage_photo.save();\r\n\r\n    for (let i=1; i <= 100; i++) {\r\n        //사진 저장 후 연락처 저장\r\n        let photo = new Photo();\r\n        photo._id = shortid.generate();\r\n        photo.image = fs.readFileSync(imageFilePath + i + \".jpg\");\r\n        photo.mimetype = \"image/jpeg\";\r\n        await photo.save();\r\n\r\n        let num=\"\"+i;\r\n        if (i < 10) num = \"0\"+i;\r\n        let ridx = Math.floor(Math.random() * arrlNames.length);\r\n        let name = arrfNames[i-1] + \" \" + arrlNames[ridx]\r\n        let tel = \"010-3456-82\"+num;\r\n        let address=\"서울시\";\r\n        let _id = new ObjectId().toHexString();\r\n        let c1 = new Contact({ _id, name, tel, address, photo:photo._id });\r\n        await c1.save();\r\n    }\r\n    mongoose.connection.close();\r\n    console.log(\"Connection Close!!\")\r\n}\r\n\r\n// const initialize = async () => {\r\n//     await removeCollection();\r\n//     await del(['public/photos/*']);\r\n//     await cpFile(`temp_photow/noimage.jpg`, `${constant.SAVE_PHOTO_DIR}/noimage.jpg`);\r\n//     for (let i=1; i <= 100; i++) {\r\n//         await cpFile(`temp_photow/${i}.jpg`, `${constant.SAVE_PHOTO_DIR}/${i}.jpg`);\r\n//         let photo = `${constant.PHOTO_URL}/${i}.jpg`;\r\n//         let num=\"\"+i;\r\n//         if (i < 10) num = \"0\"+i;\r\n//         let ridx = Math.floor(Math.random() * arrlNames.length);\r\n//         let name = arrfNames[i-1] + \" \" + arrlNames[ridx]\r\n//         let tel = \"010-3456-82\"+num;\r\n//         let address=\"서울시\";\r\n//         let doc = await insertContact({ name, tel, address, photo })\r\n//     }\r\n//     closeConnection();\r\n// }\r\n\r\ninitialize();"],"mappings":";;AAAA,IAAAA,OAAA,GAAAC,OAAA;AACA,IAAAC,GAAA,GAAAC,sBAAA,CAAAF,OAAA;AACA,IAAAG,QAAA,GAAAD,sBAAA,CAAAF,OAAA;AACA,IAAAI,QAAA,GAAAJ,OAAA;AAAkC,SAAAE,uBAAAG,CAAA,WAAAA,CAAA,IAAAA,CAAA,CAAAC,UAAA,GAAAD,CAAA,KAAAE,OAAA,EAAAF,CAAA;AAElC,MAAMG,aAAa,GAAG,cAAc;AAEpC,IAAIC,UAAU,GAAE,moBAAmoB;AACnpB,IAAIC,SAAS,GAAGD,UAAU,CAACE,KAAK,CAAC,GAAG,CAAC;AACrC,IAAIC,SAAS,GAAG,+lBAA+lB;AAC/mB,IAAIC,SAAS,GAAGD,SAAS,CAACD,KAAK,CAAC,GAAG,CAAC;AAEpC,MAAMG,UAAU,GAAG,MAAAA,CAAA,KAAY;EAC3B;EACA,MAAMC,eAAO,CAACC,UAAU,CAAC,CAAC;EAC1B,MAAMC,aAAK,CAACD,UAAU,CAAC,CAAC;EACxB;EACA,IAAIE,aAAa,GAAG,IAAID,aAAK,CAAC,CAAC;EAC/BC,aAAa,CAACC,GAAG,GAAG,SAAS;EAC7BD,aAAa,CAACE,KAAK,GAAGC,WAAE,CAACC,YAAY,CAACd,aAAa,GAAG,aAAa,CAAC;EACpEU,aAAa,CAACK,QAAQ,GAAG,YAAY;EACrC,MAAML,aAAa,CAACM,IAAI,CAAC,CAAC;EAE1B,KAAK,IAAIC,CAAC,GAAC,CAAC,EAAEA,CAAC,IAAI,GAAG,EAAEA,CAAC,EAAE,EAAE;IACzB;IACA,IAAIC,KAAK,GAAG,IAAIT,aAAK,CAAC,CAAC;IACvBS,KAAK,CAACP,GAAG,GAAGQ,gBAAO,CAACC,QAAQ,CAAC,CAAC;IAC9BF,KAAK,CAACN,KAAK,GAAGC,WAAE,CAACC,YAAY,CAACd,aAAa,GAAGiB,CAAC,GAAG,MAAM,CAAC;IACzDC,KAAK,CAACH,QAAQ,GAAG,YAAY;IAC7B,MAAMG,KAAK,CAACF,IAAI,CAAC,CAAC;IAElB,IAAIK,GAAG,GAAC,EAAE,GAACJ,CAAC;IACZ,IAAIA,CAAC,GAAG,EAAE,EAAEI,GAAG,GAAG,GAAG,GAACJ,CAAC;IACvB,IAAIK,IAAI,GAAGC,IAAI,CAACC,KAAK,CAACD,IAAI,CAACE,MAAM,CAAC,CAAC,GAAGpB,SAAS,CAACqB,MAAM,CAAC;IACvD,IAAIC,IAAI,GAAGzB,SAAS,CAACe,CAAC,GAAC,CAAC,CAAC,GAAG,GAAG,GAAGZ,SAAS,CAACiB,IAAI,CAAC;IACjD,IAAIM,GAAG,GAAG,aAAa,GAACP,GAAG;IAC3B,IAAIQ,OAAO,GAAC,KAAK;IACjB,IAAIlB,GAAG,GAAG,IAAImB,iBAAQ,CAAC,CAAC,CAACC,WAAW,CAAC,CAAC;IACtC,IAAIC,EAAE,GAAG,IAAIzB,eAAO,CAAC;MAAEI,GAAG;MAAEgB,IAAI;MAAEC,GAAG;MAAEC,OAAO;MAAEX,KAAK,EAACA,KAAK,CAACP;IAAI,CAAC,CAAC;IAClE,MAAMqB,EAAE,CAAChB,IAAI,CAAC,CAAC;EACnB;EACAiB,gBAAQ,CAACC,UAAU,CAACC,KAAK,CAAC,CAAC;EAC3BC,OAAO,CAACC,GAAG,CAAC,oBAAoB,CAAC;AACrC,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA/B,UAAU,CAAC,CAAC","ignoreList":[]}